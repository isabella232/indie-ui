<!DOCTYPE html>
<html lang="en-us">
	<head>
		<meta http-equiv="Content-type" content="text/html; charset=utf-8">
		<title>IndieUI: Events 1.0</title>
		<link href="./csi/screen.css" rel="stylesheet" type="text/css">
		
		<!-- 
      === NOTA BENE ===
      For the three scripts below, if your spec resides on dev.w3 you can check them
      out in the same tree and use relative links so that they'll work offline,
     -->
		<script src="http://www.w3.org/Tools/respec/respec-w3c-common" class="remove"></script>
		<script class="remove">
      var respecConfig = {
          // specification status (e.g. WD, LCWD, NOTE, etc.). If in doubt use ED.
          specStatus:           "ED",
          
          // the specification's short name, as in http://www.w3.org/TR/short-name/
          shortName:            "indie-ui-events",

          // if your specification has a subtitle that goes below the main
          // formal title, define it here
          // subtitle   :  "an excellent document",

          // if you wish the publication date to be other than today, set this
          // publishDate:  "2009-08-06",

          // if the specification's copyright date is a range of years, specify
          // the start date here:
          // copyrightStart: "2012",

          // if there is a previously published draft, uncomment this and set its YYYY-MM-DD date
          // and its maturity status
          // previousPublishDate:  "1977-03-15",
          // previousMaturity:  "WD",

          // if there a publicly available Editor's Draft, this is the link
          edDraftURI:           "http://dvcs.w3.org/hg/IndieUI/raw-file/tip/events/indie-ui-events.html",

          // if this is a LCWD, uncomment and set the end of its review period
          // lcEnd: "2009-08-05",

          // if you want to have extra CSS, append them to this list
          // it is recommended that the respec.css stylesheet be kept
          extraCSS:             [
            "http://dev.w3.org/2009/dap/ReSpec.js/css/respec.css",
            "./csi/screen.css"
          ],

          // editors, add as many as you like
          // only "name" is required, also can have url, company, companyURL in comma separated list
          editors:  [
              { name: "James Craig", company: "Apple Inc.", companyURL: "http://www.apple.com/" },
              { name: "Michael Cooper", company: "W3C", companyURL: "http://www.w3.org/" },
          ],

          // authors, add as many as you like. 
          // This is optional, uncomment if you have authors as well as editors.
          // only "name" is required. Same format as editors.

          //authors:  [
          //  { name: "James Craig", company: "Apple Inc.", companyURL: "http://www.apple.com/" },
          //],
          
          // name of the WG
          wg:           "Independent User Interface (Indie UI) and Web Events Working Groups",
          
          // URI of the public WG page
          wgURI:        "http://www.w3.org/WAI/IndieUI/",
          
          // name (without the @w3c.org) of the public mailing to which comments are due
          wgPublicList: "public-indie-ui-comments",
          
          // URI of the patent status for this WG, for Rec-track documents
          // !!!! IMPORTANT !!!!
          // This is important for Rec-track documents, do not copy a patent URI from a random
          // document unless you know what you're doing. If in doubt ask your friendly neighbourhood
          // Team Contact.
          wgPatentURI:  "http://www.w3.org/2004/01/pp-impl/54953/status",
      };
    </script>
		
		
	</head>
	<body>

		<section id="abstract">
			<p class="placeholder">Placeholder abstract.</p>
		</section>

		<section id="sotd">
		</section>
		
		<!-- :::::::::::::::::::: INTRO :::::::::::::::::::: -->
		<section id="intro" class="introductory informative">
			<h2>Introduction</h2>
			<p>This specification, in conjunction with the <a href="./user_context.html">User Context Module</a>, is intended address the problem of device-, <abbr title="operating system">OS</abbr>-, and localization-independent control of web content.</p>
			<p class="placeholder">placeholder for remaining intro explaining background, event registration (addEventListener) versus origination (event.target defined via ~@ui-actions)</p>
		</section>
		
		<section id="eventslist">
			<h2>Events List (alphabetical)</h2>
			<p class="placeholder">placeholder for alphabetical list of event types with short descriptions</p>
		</section>
		
		<!-- :::::::::::::::::::: UI Request Event Interfaces :::::::::::::::::::: -->
		<section id="RequestEvents">
			<h2><abbr title="User Interface">UI</abbr> Change Request Events</h2>
			<p>The core principle behind <abbr title="User Interface">UI</abbr> Change Request Events is that they operate on a completely backwards-compatible, opt-in basis. In other words, the web application author has to be aware of these events and register event listeners, or the user agent and assistive technology behave as they normally would.</p>
			<p><strong>Change request events do not cause any direct manipulation or mutation of the DOM.</strong> Instead, the event object conveys the user's intent to the web application, and allows the web application to make the appropriate changes to the DOM, on behalf of the user agent. If a web application is authored to understand the change request event, it can cancel the event using <code>preventDefault()</code>, which informs the user agent that the event has been captured and understood. If a web application does not cancel any change request event, the user agent can then attempt fallback behavior or communicate to the user that the input has not been recognized.</p>
			<p class="ednote">There is purposefully no request event for activating the default action. Authors are encouraged to use a standard <code>click</code> event for default actions.</p>
			<p class="ednote">Event fires on point-of-regard (<code>document.activeElement</code>, clicked element, or AT equivalent) if applicable, or otherwise <code>document.body</code>.</p>
			<p class="ednote">These events should be asynchronous, but when used in conjunction with keyboard events, should fire after <code>keydown</code>, but before both <code>keyup</code> and <code>keypress</code>.</p>

			<!-- :::::::::::::::::::: UIRequestEvent :::::::::::::::::::: -->
			<section id="UIRequestEvent">
				<h3><strong>Interface <em>UIRequestEvent</em></strong></h3>

				<div class="idlwrapper">
					<pre class="idl">interface UIRequestEvent : UIEvent {
  void initUIRequestEvent(
    in DOMString typeArg,
    in boolean canBubbleArg,
    in boolean cancelableArg,
    in views::AbstractView viewArg,
    in long detailArg
  );
};</pre>
				</div>
				<h4>The different types of UIRequestEvents that can occur are:</h4>
				<dl>
					<dt id="undorequest">Undo Request <code class="event">undorequest</code></dt>
					<dd>
						<p>Initiated when the user agent sends an 'undo' request to the web application.</p>
						<ul>
							<li>Bubbles: Yes</li>
							<li>Cancelable: Yes</li>
						</ul>
						<div class="example" title="Informative Example">
							<p>Users, wanting to 'undo' a discrete action in a web application, can indicate their intent a number of ways, including pressing <kbd>Control+Z</kbd> on Windows or Linux, <kbd>Command+Z</kbd> on Mac OS X, and even by shaking some accelerometer- or gyroscope-enabled mobile devices.</p>
						</div>
					</dd>
					<dt id="redorequest">Redo Request <code class="event">redorequest</code></dt>
					<dd>
						<p>Initiated when the user agent sends a 'redo' request to the web application.</p>
						<ul>
							<li>Bubbles: Yes</li>
							<li>Cancelable: Yes</li>
						</ul>
						<div class="example" title="Informative Example">
							<p>Users, wanting to 'redo' a discrete action in a web application, can indicate their intent a number of ways, including pressing <kbd>Control+Shift+Z</kbd> on Windows or Linux, <kbd>Command+Shift+Z</kbd> on Mac OS X.</p>
						</div>
					</dd>
					<dt id="dismissrequest">Dismiss Request <code class="event">dismissrequest</code></dt>
					<dd>
						<p>Initiated when the user agent sends a 'dismiss' request to the web application.</p>
						<ul>
							<li>Bubbles: Yes</li>
							<li>Cancelable: Yes</li>
						</ul>
						<div class="example" title="Informative Example">
							<p>Users, wanting to 'escape from' or 'dismiss' a web application state (for example, closing a modal dialog), can indicate their intent a number of ways, most commonly by pressing <kbd>Escape</kbd> on keyboard-controlled operating systems. Web authors who have registered for this event should process the event to determine whether to cancel the event. If the 'dismiss' action is understood in the context of the web application, web authors should perform the appropriate action (such as closing the dialog), and cancel the event using the event object's <code>preventDefault()</code> method.</p>
						</div>
					</dd>
					<dt id="deleterequest">Delete Request <code class="event">deleterequest</code></dt>
					<dd>
						<p>Initiated when the user agent sends a 'delete' request to the web application.</p>
						<ul>
							<li>Bubbles: Yes</li>
							<li>Cancelable: Yes</li>
						</ul>
					</dd>
					<dt id="expandrequest">Expand Request <code class="event">expandrequest</code></dt>
					<dd>
						<p>Initiated when the user agent conveys intent to reveal information in a collapsed section (e.g. a disclosure widget) or branch node in a hierarchy (e.g., a tree view).</p>
						<ul>
							<li>Bubbles: Yes</li>
							<li>Cancelable: Yes</li>
						</ul>
					</dd>
					<dt id="collapserequest">Collapse Request <code class="event">collapserequest</code></dt>
					<dd>
						<p>Initiated when the user agent conveys intent to hide or collapse information in an expanded section (e.g. a disclosure widget) or branch node in a hierarchy (e.g., a tree view).</p>
						<ul>
							<li>Bubbles: Yes</li>
							<li>Cancelable: Yes</li>
						</ul>
					</dd>
				</dl>
			</section>
			<!-- :::::::::::::::::::: END UIRequestEvent :::::::::::::::::::: -->

			<!-- :::::::::::::::::::: UIPanRequestEvent :::::::::::::::::::: -->
			<section id="UIPanRequestEvent">
				<h3><strong>Interface <em>UIPanRequestEvent</em></strong></h3>
				<div class="idlwrapper">
					<pre class="idl">interface UIPanRequestEvent : UIRequestEvent {

  <span class="comment">// for panning views (e.g. maps or zoomed graphical views... not intended for standard scroll views)</span>

  readonly attribute unsigned long   deltaX;
  readonly attribute unsigned long   deltaY;

  void initUIScrollRequestEvent(
    in DOMString typeArg,
    in boolean canBubbleArg,
    in boolean cancelableArg,
    in views::AbstractView viewArg,
    in long detailArg,
    in unsigned long deltaX,
    in unsigned long deltaY
  );
};</pre>
				</div>
				<h4>The single type of UIScrollRequestEvent that can occur is:</h4>
				<dl>
					<dt id="panrequest">Pan Request <code class="event">panrequest</code></dt>
					<dd>
						<p>Initiated when the user agent sends a pan request to the web application with accompanying x/y delta values.</p>
						<ul>
							<li>Bubbles: Yes</li>
							<li>Cancelable: Yes</li>
							<li>Context Info: <code>deltaX</code>, <code>deltaY</code></li>
						</ul>
						<p class="ednote">Yet to be determined if this event should remain as a discrete event, or be split into start, move, and end request events for panning.</p>
					</dd>
				</dl>
			</section>
			<!-- :::::::::::::::::::: END UIPanRequestEvent :::::::::::::::::::: -->

			<!-- :::::::::::::::::::: UIScrollRequestEvent :::::::::::::::::::: -->
			<section id="UIScrollRequestEvent">
				<h3><strong>Interface <em>UIScrollRequestEvent</em></strong></h3>
				<div class="ednote">Editorial Note: these constants will likely change dramatically based on discussion from the IndieUI Face-to-Face.</div>
				<div class="idlwrapper">
					<pre class="idl">interface UIScrollRequestEvent : UIRequestEvent {
  
  <span class="comment">// for custom scroll views or widgets (e.g. carousels, lists, grids)</span>
  const unsigned short    LEFT          =  TBD;
  const unsigned short    UP            =  TBD;
  const unsigned short    RIGHT         =  TBD;
  const unsigned short    DOWN          =  TBD;
  const unsigned short    LEFT_LIMIT    =  TBD;
  const unsigned short    TOP_LIMIT     =  TBD;
  const unsigned short    RIGHT_LIMIT   =  TBD;
  const unsigned short    BOTTOM_LIMIT  =  TBD;
  
  readonly attribute unsigned short   scrollType;
  
  void initUIScrollRequestEvent(
    in DOMString typeArg,
    in boolean canBubbleArg,
    in boolean cancelableArg,
    in views::AbstractView viewArg,
    in long detailArg,
    in unsigned short scrollTypeArg
  );
};</pre>
				</div>
				<h4>The single type of UIScrollRequestEvent that can occur is:</h4>
				<dl>
					<dt id="scrollrequest">Scroll Request <code class="event">scrollrequest</code></dt>
					<dd>
						<p>Initiated when the user agent sends a scroll request to the web application. Scroll events need only be used on custom scroll views (lists and grids showing data subsets, carousels, etc.), as user agents and assistive technologies already manage scrolling of native scroll views.</p>
						<p class="note">The scroll type constants are more or less equivalent to expected behavior for <kbd>PageUp</kbd>/<kbd>PageDown</kbd> and <kbd>Home</kbd>/<kbd>End</kbd> keys on native scroll views, but also allow horizontal scrolling.</p>
						<ul>
							<li>Bubbles: Yes</li>
							<li>Cancelable: Yes</li>
							<li>Context Info: <code>scrollType</code></li>
						</ul>
					</dd>
				</dl>
			</section>
			<!-- :::::::::::::::::::: END UIScrollRequestEvent :::::::::::::::::::: -->

			<!-- :::::::::::::::::::: UIValueChangeRequestEvent :::::::::::::::::::: -->
			<section id="UIValueChangeRequestEvent">
				<h3><strong>Interface <em>UIValueChangeRequestEvent</em></strong></h3>
				<div class="ednote">Editorial Note: these constants will likely change dramatically based on discussion from the IndieUI Face-to-Face.</div>
				<div class="idlwrapper">
					<pre class="idl">interface UIValueChangeRequestEvent : UIRequestEvent {
  
  <span class="comment">// value changes (e.g. ranges)</span>
  const unsigned short    INCREMENT        =  TBD;
  const unsigned short    INCREMENT_SMALL  =  TBD;
  const unsigned short    INCREMENT_LARGE  =  TBD;
  const unsigned short    INCREMENT_MAX    =  TBD;
  const unsigned short    DECREMENT        =  TBD;
  const unsigned short    DECREMENT_SMALL  =  TBD;
  const unsigned short    DECREMENT_LARGE  =  TBD;
  const unsigned short    DECREMENT_MIN    =  TBD;
  
  readonly attribute unsigned short   changeType;
  
  void initUIValueChangeRequestEvent(
    in DOMString typeArg,
    in boolean canBubbleArg,
    in boolean cancelableArg,
    in views::AbstractView viewArg,
    in long detailArg,
    in unsigned short changeTypeArg
  );
};</pre>
				</div>
				<h4>The single type of UIValueChangeRequestEvent that can occur is:</h4>
				<dl>
					<dt id="valuechangerequest">Value Change Request <code class="event">valuechangerequest</code></dt>
					<dd>
						<p>Initiated when the user agent sends a value change request to the web application.</p>
						<p>Web authors <strong class="rfc2119">should</strong> code applications to accept all values of the <code>changeType</code> argument. For example, if there is no special behavior for <code>INCREMENT_SMALL</code> or <code>INCREMENT_LARGE</code>, web applications would behave as if they had received a basic <code>INCREMENT</code> change type.</p>
						<ul>
							<li>Bubbles: Yes</li>
							<li>Cancelable: Yes</li>
							<li>Context Info: <code>changeType</code></li>
						</ul>
						<div class="example" title="Informative Example">
							<p>Users, wanting to change the value of a custom range widget (slider, spin buttons, etc.) in a web application, can indicate their intent a number of ways, including pressing various keys (<kbd>Up</kbd>, <kbd>Down</kbd>, <kbd>Left</kbd>, <kbd>Right</kbd>, <kbd>PageUp</kbd>, <kbd>PageDown</kbd>, <kbd>Home</kbd>, <kbd>End</kbd>) on most keyboard-controlled interfaces. User agents understanding this intent should initiate a <code>valuechangerequest</code> event. Web authors who have registered for this event, should process the event to determine whether to cancel the event. If the value change action is understood in the context of the web application, web authors should change the value of the associated widget by an amount determined via the <code>changeType</code> argument, and cancel the event using the event object's <code>preventDefault()</code> method.</p>
						</div>
					</dd>
				</dl>
			</section>
			<!-- :::::::::::::::::::: END UIValueChangeRequestEvent :::::::::::::::::::: -->

		</section>
		<!-- :::::::::::::::::::: END UI Request Event Interfaces :::::::::::::::::::: -->

		<!-- :::::::::::::::::::: Accessibility Event Interfaces :::::::::::::::::::: -->
		<section id="AXevents">
			<h2>Accessibility Events</h2>
			<p>The following events are only initiated by assistive technologies, as opposed to mainstream user agents.</p>
			
			<!-- :::::::::::::::::::: AccessibilityEvent :::::::::::::::::::: -->
			<section id="AccessibilityEvent">
				<h3><strong>Interface <em>AccessibilityEvent</em></strong></h3>
				<div class="idlwrapper">
					<pre class="idl">interface AccessibilityEvent : UIEvent {
  void initAccessibilityEvent(
    in DOMString typeArg,
    in boolean canBubbleArg,
    in boolean cancelableArg,
    in views::AbstractView viewArg,
    in long detailArg
  );
};</pre>
				</div>
				<h4>The different types of AccessibilityEvents that can occur are:</h4>
				<dl>
					<dt>Assistive Technology Focus <code class="event">ATFocus</code></dt>
					<dd>
						<p>Initiated when the assistive technology cursor or point-of-regard moves to a particular DOM node.</p>
						<p class="ednote">Probably need a normative author requirement here stating authors MUST NOT update the visible view based on these events, unless the focused element is entirely out of view. Include example of where this is harmful.</p>
						<p class="ednote">We might also need an AT equivalent of <code>document.activeElement</code>.</p>
						<ul>
							<li>Bubbles: Yes</li>
							<li>Cancelable: No</li>
						</ul>
					</dd>
					<dt>Assistive Technology Blur <code class="event">ATBlur</code></dt>
					<dd>
						<p>Initiated when the assistive technology cursor or point-of-regard leaves a particular DOM node.</p>
						<ul>
							<li>Bubbles: Yes</li>
							<li>Cancelable: No</li>
						</ul>
					</dd>
				</dl>
			</section>
			<!-- :::::::::::::::::::: END AccessibilityEvent :::::::::::::::::::: -->
			
		</section>
		<!-- :::::::::::::::::::: END Accessibility Event Interfaces :::::::::::::::::::: -->

		<section class="appendix">
			<h2>Appendices</h2>
			
			<section id="terms">
				<h3>Important Terms</h3>
				<dl>
					
					<dt id="def_assistivetechnology">Assistive Technology</dt>
					<dd class="placeholder">TBD</dd>
					
					<dt id="def_pointofregard">Point-of-Regard</dt>
					<dd class="placeholder">TBD</dd>
					
					<dt id="def_useragent">User Agent</dt>
					<dd class="placeholder">TBD</dd>
					
				</dl>
			</section>
			
			<section id="acknowledgements">
				<h3>Acknowledgements</h3>
				<p class="placeholder">Placeholder for footer content (acknowledgements, terms, etc.)</p>
			</section>
			
		</section>
		
	</body>
</html>
